/* ===========================
   PROFILE — כל העיצוב במקום אחד
   =========================== */

/* נגישות: כיבוי אנימציות + מצב סופי תקין */
@media (prefers-reduced-motion: reduce){
  [data-anim][data-anim-target="profile"]{
    animation: none !important;
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* בסיס: מוכנים אך על pause (Gate סגור) */
[data-anim][data-anim-target="profile"]{
  /* שם ברירת מחדל; JS יעקוף עם animation-name מה-DATA */
  animation: kf-profile-in var(--profile-in-duration, 700ms)
             var(--profile-in-ease, cubic-bezier(.22,.61,.36,1)) both;
  animation-play-state: paused;
  opacity: 0;              /* מייצב פריים ראשון */
  transform-origin: 50% 0%;
}

/* פתיחת Gate (class על body) */
.anim-ready [data-anim][data-anim-target="profile"]{
  animation-play-state: running;
  will-change: transform, opacity;
}
/* === 2 מלמעלה === */

/* 1. Drop Elegant – נפילה אלגנטית עם ריכוך */
@keyframes kf-profile-drop-elegant {
  0%   { transform: translateY(-120px) scale(.98); opacity: 0; filter: blur(6px); }
  60%  { transform: translateY(0)      scale(1.00); opacity: 1; filter: blur(0); }
  80%  { transform: translateY(-8px); }
  100% { transform: translateY(0)      scale(1.00); opacity: 1; }
}

/* 2. Drop Spring – נפילה “קפיצית” רכה */
@keyframes kf-profile-drop-spring {
  0%   { transform: translateY(-160px) scale(.96); opacity: 0; }
  55%  { transform: translateY(0)      scale(1.02);opacity: 1; }
  75%  { transform: translateY(-10px)  scale(1.00); }
  100% { transform: translateY(0)      scale(1.00);opacity: 1; }
}


/* === 4 נוספות — שונות מהשניים הראשונים === */

/* 3. Slide In Left – גלישה חלקה משמאל */
@keyframes kf-profile-slide-in-left {
  0%   { transform: translateX(-120px); opacity: 0; filter: blur(4px); }
  60%  { transform: translateX(0);      opacity: 1; filter: blur(0); }
  100% { transform: translateX(0);      opacity: 1; }
}

/* 4. Slide In Right – גלישה חלקה מימין */
@keyframes kf-profile-slide-in-right {
  0%   { transform: translateX(120px); opacity: 0; filter: blur(4px); }
  60%  { transform: translateX(0);     opacity: 1; filter: blur(0); }
  100% { transform: translateX(0);     opacity: 1; }
}

/* 5. Rise Up – עליה מלמטה עם bounce קטן */
@keyframes kf-profile-rise-up {
  0%   { transform: translateY(120px)  scale(.98); opacity: 0; }
  60%  { transform: translateY(0)      scale(1.00);opacity: 1; }
  80%  { transform: translateY(6px); }
  100% { transform: translateY(0)      scale(1.00);opacity: 1; }
}

/* 6. Pop In – הופעה פתאומית (scale + fade) */
@keyframes kf-profile-pop-in {
  0%   { transform: scale(.84); opacity: 0; filter: blur(6px); }
  60%  { transform: scale(1.02); opacity: 1; filter: blur(0); }
  100% { transform: scale(1.00); opacity: 1; }
}


/* ===========================
   כלליים — לשאר האלמנטים
   =========================== */

[data-anim]{
  animation-duration: 800ms;
  animation-timing-function: cubic-bezier(.22,.61,.36,1);
  animation-fill-mode: both;
  will-change: transform, opacity;
  animation-delay: 0ms; /* ברירת מחדל */
}

/* דוגמה לעיכובים פר-סקשן (CSS בלבד) */
[data-anim="header"] { animation-delay: 200ms; }
[data-anim="cta"]    { animation-delay: 300ms; }

/* keyframes כלליים */
@keyframes kf-zoom-fade { 0%{transform:scale(.7);opacity:0} 100%{transform:scale(1);opacity:1} }
@keyframes kf-slide-right{ 0%{transform:translateX(-60px);opacity:0} 100%{transform:translateX(0);opacity:1} }
/* === Parallax Scroll === */
.card {
  position: relative;
  overflow: hidden; /* כדי שהטפט לא יברח מחוץ לכרטיס */
  z-index: 1;       /* התוכן מעל שכבת הרקע הכללית */
  min-height: 100vh; /* אופציונלי: לוודא שהכרטיס תמיד לפחות בגובה המסך */
}

/* שכבת טפט פרלקסה בתוך כרטיס */
.card .parallax-bg {
  position: absolute;
  inset: 0; /* למלא את כל הכרטיס */
  z-index: 0;
  pointer-events: none;
  background-image: var(--card-bg-image, none);
  background-repeat: no-repeat;
  background-position: center top;

  /* Overscan: להגדיל קצת את גובה התמונה כדי שלא תיגמר בגלילה */
  background-size: auto 120%; /* היה cover; 120% גובה נותן מרווח תנועה */

  opacity: var(--card-bg-opacity, 1);
  filter: blur(var(--card-bg-blur, 0px));
  will-change: background-position;
  transition: background-position 0.08s linear;
}

/* כל שאר התוכן בכרטיס תמיד מעל */
.card > *:not(.parallax-bg) {
  position: relative;
  z-index: 1;
}

